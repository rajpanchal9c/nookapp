<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- SEO Meta Tags -->
  <title>Nook - Your Personal Space for Thoughts & Tasks</title>
  <meta name="description"
    content="A calm, minimalist space for journaling and task management. Write your thoughts, track your mood, and organize your to-dos with Nook.">
  <meta name="keywords"
    content="journal, nook, mindfulness, mood tracking, personal journal, task management, to-do list">

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Crimson+Pro:wght@400;600&family=Inter:wght@400;500;600&display=swap"
    rel="stylesheet">

  <!-- Styles -->
  <link rel="stylesheet" href="styles.css">

  <!-- Analytics (Umami - Privacy-focused, self-hosted) -->
  <!-- Dashboard: https://nook-umami.vercel.app -->
  <!-- Public Stats: https://nook-umami.vercel.app/share/T8i07BS9bB75tCtI -->
  <script defer src="https://nook-umami.vercel.app/script.js" data-website-id="14011009-ff83-43a6-929f-c6270502451e"
    data-domains="nookapp.vercel.app">
    </script>
</head>

<body>
  <!-- Entries Sidebar -->
  <aside class="entries-sidebar" id="entriesSidebar">
    <div class="sidebar-header">
      <h2 class="sidebar-title">Your Entries</h2>
      <div class="sidebar-header-actions">
        <button class="collapse-sidebar-btn" id="collapseSidebarBtn" aria-label="Collapse sidebar"
          title="Collapse sidebar">
          <span class="chevron">â€¹</span>
        </button>
        <button class="close-sidebar-btn" id="closeSidebarBtn" aria-label="Close sidebar">Ã—</button>
      </div>
    </div>

    <!-- Calendar Widget -->
    <div class="calendar-widget">
      <div class="calendar-header">
        <button class="calendar-nav-btn" id="prevMonthBtn" aria-label="Previous month">â€¹</button>
        <span class="calendar-month-year" id="calendarMonthYear">November 2024</span>
        <button class="calendar-nav-btn" id="nextMonthBtn" aria-label="Next month">â€º</button>
      </div>
      <div class="calendar-grid" id="calendarGrid">
        <!-- Days will be generated by JavaScript -->
      </div>
    </div>

    <div class="search-container" style="margin-bottom: var(--space-4);">
      <input type="text" id="entrySearchInput" placeholder="Search entries..." class="search-input">
    </div>

    <div class="entries-list" id="entriesList">
      <p class="empty-state">No entries yet. Start writing!</p>
    </div>
  </aside>

  <!-- Sidebar Expand Button (when collapsed) -->
  <button class="expand-sidebar-btn" id="expandSidebarBtn" aria-label="Show entries" title="Show entries">
    <span class="icon">ğŸ“</span>
    <span class="chevron">â€º</span>
  </button>

  <!-- Todo Sidebar (Right) -->
  <aside class="todo-sidebar" id="todoSidebar">
    <div class="sidebar-header">
      <h2 class="sidebar-title">To-Do</h2>
      <div class="sidebar-header-actions">
        <button class="collapse-sidebar-btn" id="collapseTodoBtn" aria-label="Collapse sidebar"
          title="Collapse sidebar">
          <span class="chevron">â€º</span>
        </button>
      </div>
    </div>

    <!-- Active Tasks View -->
    <div class="todo-view" id="todoView">
      <div class="todo-section">
        <div class="todo-list" id="todoList">
          <!-- Tasks will be generated by JavaScript -->
        </div>
      </div>

      <!-- Completed Tasks -->
      <div class="completed-section" id="completedSection">
        <h3 class="completed-title">Completed</h3>
        <div class="completed-list" id="completedList">
          <!-- Completed tasks will be generated by JavaScript -->
        </div>
      </div>

      <!-- View Archived Button -->
      <button class="view-archived-btn" id="viewArchivedBtn" style="display: none;">
        <span>ğŸ—„ï¸ View Archived</span>
        <span class="archived-count" id="archivedCount"></span>
      </button>
    </div>

    <!-- Archived Tasks View -->
    <div class="archived-view" id="archivedView" style="display: none;">
      <div class="archived-header">
        <button class="back-btn" id="backFromArchivedBtn">â† Back</button>
        <h3 class="archived-view-title">Archived Tasks</h3>
      </div>
      <div class="archived-search">
        <input type="text" class="archived-search-input" id="archivedSearchInput"
          placeholder="Search archived tasks...">
      </div>
      <div class="archived-list" id="archivedList">
        <!-- Archived tasks will be generated by JavaScript -->
      </div>
      <button class="delete-all-btn" id="deleteAllArchivedBtn">ğŸ—‘ï¸ Delete All</button>
    </div>
  </aside>

  <!-- Todo Sidebar Expand Button (when collapsed) -->
  <button class="expand-todo-btn" id="expandTodoBtn" aria-label="Show to-do" title="Show to-do">
    <span class="icon">âœ“</span>
    <span class="chevron">â€¹</span>
  </button>

  <div class="app-container">
    <!-- Header -->
    <header class="app-header">
      <h1 class="app-title">Nook</h1>
      <div class="header-actions">
        <span class="date-indicator" id="dateIndicator">Loading...</span>
        <button class="settings-btn" id="settingsBtn" aria-label="Open settings">âš™ï¸</button>
      </div>
    </header>

    <!-- Mood Selector -->
    <section class="mood-selector">
      <span class="mood-label">Mood:</span>
      <div class="mood-options" id="moodOptions" role="radiogroup" aria-label="Select your mood">
        <button class="mood-btn" data-mood="happy" role="radio" aria-label="Happy" aria-checked="false">ğŸ˜Š</button>
        <button class="mood-btn" data-mood="calm" role="radio" aria-label="Calm" aria-checked="false">ğŸ˜Œ</button>
        <button class="mood-btn" data-mood="sad" role="radio" aria-label="Sad" aria-checked="false">ğŸ˜”</button>
        <button class="mood-btn" data-mood="anxious" role="radio" aria-label="Anxious" aria-checked="false">ğŸ˜°</button>
        <button class="mood-btn" data-mood="tired" role="radio" aria-label="Tired" aria-checked="false">ğŸ˜´</button>
        <button class="mood-btn" data-mood="thoughtful" role="radio" aria-label="Thoughtful"
          aria-checked="false">ğŸ¤”</button>
      </div>
    </section>

    <!-- Journal Entry -->
    <main class="journal-container">
      <div class="journal-input-wrapper">
        <textarea class="journal-textarea" id="journalTextarea" placeholder="What's on your mind?"
          aria-label="Journal entry" autofocus></textarea>

        <!-- Floating AI Button -->
        <button class="btn-ai-float" id="suggestTasksBtn" title="Suggest tasks from your journal">
          <span class="ai-icon" id="suggestTasksIcon">âœ¨</span>
          <span class="ai-text" id="suggestTasksText">Suggest Tasks</span>
        </button>
      </div>

      <div class="journal-footer">
        <span class="character-count" id="characterCount">0 characters</span>

        <button class="btn btn-submit" id="submitBtn">
          <span>âœ“</span>
          Save Entry
        </button>
      </div>

      <div class="feedback-container">
        <a href="https://forms.gle/A1AJuR2vCxWeRDbRA" target="_blank" class="feedback-link">
          ğŸ’¬ Give Feedback
        </a>
      </div>
    </main>
  </div>

  <!-- Settings Panel -->
  <aside class="settings-panel" id="settingsPanel">
    <div class="settings-header">
      <h2 class="settings-title">Nook Settings</h2>
      <button class="close-btn" id="closeSettingsBtn" aria-label="Close settings">Ã—</button>
    </div>

    <div class="settings-section">
      <h3 class="settings-section-title">Data Management</h3>
      <p class="settings-section-description">
        Your data is stored locally in your browser. Export it regularly to keep it safe.
      </p>
      <button class="btn btn-primary" id="exportBtn" style="margin-bottom: var(--space-3);">
        <span>ğŸ’¾</span> Export Data (JSON)
      </button>
      <button class="btn btn-secondary" id="importBtn">
        <span>ğŸ“‚</span> Import Data
      </button>
      <input type="file" id="importFile" accept=".json" style="display: none;">
    </div>

    <div class="settings-section">
      <h3 class="settings-section-title">About</h3>
      <p class="settings-section-description">
        Nook is a minimalist brain dump app designed to help you clear your mind.
      </p>
      <a href="about.html" class="btn btn-secondary" style="display: inline-block; text-decoration: none;">
        Learn More About Nook
      </a>
    </div>
  </aside>

  <!-- Overlay -->
  <div class="overlay" id="overlay"></div>

  <!-- Welcome Modal -->
  <div class="welcome-modal" id="welcomeModal">
    <div class="welcome-content">
      <h2 class="welcome-title">ğŸ‘‹ Welcome to Nook!</h2>

      <div class="welcome-tldr">
        <h3>Your Personal Space for Thoughts & Tasks</h3>
        <ul class="welcome-features">
          <li>
            <span class="feature-icon">ğŸ“</span>
            <div>
              <strong>Daily Journaling</strong>
              <p>Write your thoughts with mood tracking</p>
            </div>
          </li>
          <li>
            <span class="feature-icon">âœ…</span>
            <div>
              <strong>Smart To-Do List</strong>
              <p>Prioritized tasks (1-3 numbered, rest bulleted) with drag-and-drop</p>
            </div>
          </li>
          <li>
            <span class="feature-icon">ğŸ—„ï¸</span>
            <div>
              <strong>Archive System</strong>
              <p>Keep completed tasks organized and searchable</p>
            </div>
          </li>
          <li>
            <span class="feature-icon">ğŸ“…</span>
            <div>
              <strong>Calendar View</strong>
              <p>Navigate past entries easily</p>
            </div>
          </li>
          <li>
            <span class="feature-icon">ğŸ’¾</span>
            <div>
              <strong>Data Import & Export</strong>
              <p>Backup everything as JSON or restore from a previous backup</p>
            </div>
          </li>
        </ul>

        <div class="welcome-privacy">
          <strong>ğŸ”’ Privacy First:</strong> All your data is stored locally in your browser.
          Nothing is sent to any server. Export regularly to back up your data!
        </div>
      </div>



      <button class="welcome-btn" id="welcomeCloseBtn">Get Started</button>
    </div>
  </div>

  <!-- JavaScript -->
  <script src="app.js?v=54"></script>
</body>

</html>